---
import {
  Bars3Icon,
  MoonIcon,
  SunIcon,
  XMarkIcon,
} from "@heroicons/react/24/outline";
import { Image } from "astro:assets";

import imgWordmark from "../assets/brand/Wordmark.svg";
---

<header class="bg-neutral-50 flex items-center justify-center shadow">
  <div class="container flex items-center justify-between gap-4 p-4 md:px-0">
    <div>
      <Bars3Icon id="menu-icon" className="text-neutral-900 size-8 lg:hidden" />
      <XMarkIcon
        id="close-icon"
        className="text-neutral-900 hidden size-8 lg:hidden"
      />
    </div>

    <div class="flex w-full">
      <Image
        class="place-self-start h-8"
        src={imgWordmark}
        alt="Jonathan Bello"
      />
    </div>

    <nav
      id="navigator-menu"
      class="absolute -top-full left-0 right-0 lg:top-0 lg:left-auto lg:right-auto
      flex flex-col items-center justify-center shadow lg:shadow-none p-6 py-8
      transition-[top] duration-300 ease-in-out lg:transition-none
      lg:relative bg-neutral-50 lg:flex lg:items-center lg:gap-4"
      aria-label="Main navigation"
    >
      <ul
        class="h-full container flex flex-col lg:flex-row items-start justify-center gap-8 lg:gap-8
      [&>li]:text-neutral-950 font-text font-medium text-xl"
      >
        <li>
          <a href="/">Inicio</a>
        </li>
        <li>
          <a href="/projects">Proyectos</a>
        </li>
        <li>
          <a href="/blog">Blog</a>
        </li>
        <li>
          <a href="/contacto">Contacto</a>
        </li>
      </ul>
    </nav>

    <div class="flex items-center gap-4">
      <button class="rounded-full size-8 bg-neutral-100">
        <span class="text-neutral-500 font-text text-base"> ES </span>
      </button>

      <button
        class="rounded-full size-8 bg-neutral-100 flex items-center justify-center"
      >
        <MoonIcon className="text-neutral-400 size-6" />
      </button>
    </div>
  </div>
</header>

<script>
  // Toggle navigation menu
  const barsIcon = document.querySelector("#menu-icon");
  const closeIcon = document.querySelector("#close-icon");
  const navigatorMenu = document.querySelector("#navigator-menu");
  const navigatorLinks = document.querySelector("#navigator-menu ul");

  if (navigatorMenu === null || barsIcon === null || closeIcon === null) {
    throw new Error("Element not found");
  }

  barsIcon.addEventListener("click", () => {
    barsIcon.classList.toggle("hidden");
    closeIcon.classList.toggle("hidden");
    // navigatorMenu.classList.toggle("hidden");
    navigatorMenu.classList.toggle("top-16");
  });

  closeIcon.addEventListener("click", () => {
    closeIcon.classList.toggle("hidden");
    barsIcon.classList.toggle("hidden");
    // navigatorMenu.classList.toggle("hidden");
    navigatorMenu.classList.toggle("top-16");
  });
</script>
