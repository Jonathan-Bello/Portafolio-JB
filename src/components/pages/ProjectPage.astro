---
import EntryLayout from "@layouts/EntryLayout.astro";

const { project } = Astro.props;
---

<EntryLayout entry={project.data}>

  <slot />

  <!-- Formulario para comentarios -->
  <section class="comments-section" slot="footer">
    <h2>Deja un comentario</h2>
    <form id="commentForm" onsubmit="handleCommentSubmit(event)">
      <label for="name">Nombre:</label>
      <input type="text" id="name" name="name" required />

      <label for="comment">Comentario:</label>
      <textarea id="comment" name="comment" rows="4" required></textarea>

      <button type="submit">Enviar</button>
    </form>
  </section>
</EntryLayout>

<script>
  async function handleCommentSubmit(event) {
    event.preventDefault();
    const form = event.target;
    const formData = new FormData(form);

    const commentData = {
      name: formData.get("name"),
      comment: formData.get("comment"),
    };

    console.log("Comentario enviado:", commentData);
    // Aquí puedes comenzar a implementar la lógica para guardar los comentarios
  }
</script>

<style>
  .project-image {
    width: 100%;
    height: auto;
    margin-bottom: 1rem;
  }

  .project-content {
    margin-bottom: 2rem;
  }

  .comments-section {
    margin-top: 2rem;
  }

  form {
    display: flex;
    flex-direction: column;
    gap: 1rem;
  }

  input,
  textarea,
  button {
    font-size: 1rem;
    padding: 0.5rem;
  }
</style>
